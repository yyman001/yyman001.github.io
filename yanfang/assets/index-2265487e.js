import{o as e,p as o,w as l,c as n,n as a,a as r,k as s,T as t,t as i,e as d,r as c,f as u,Y as p,j as h,b as m,F as f,S as g,g as v,h as b,i as y,Z as C,_ as x,$ as k,R as M,E as F}from"./index-330ef47a.js";import{c as S,w,a as $,j as B,u as O,e as I,s as D,J as V,K as E,o as j,L as z,h as P,p as T,M as _,I as R,D as U,t as N}from"./index-2de332e8.js";const W={errorMessage:{type:String,default:""},extraMessage:{type:String,default:""}},{name:A,n:K}=S("form-details"),Y={key:0},q={key:0};const J=u({name:A,props:W,setup:()=>({n:K})});J.render=function(u,p){return e(),o(t,{name:u.n()},{default:l((()=>[u.errorMessage||u.extraMessage||u.$slots["extra-message"]?(e(),n("div",{key:0,class:a(u.n())},[r("div",{class:a(u.n("error-message"))},[s(t,{name:u.n("message")},{default:l((()=>[u.errorMessage?(e(),n("div",Y,i(u.errorMessage),1)):d("v-if",!0)])),_:1},8,["name"])],2),r("div",{class:a(u.n("extra-message"))},[s(t,{name:u.n("message")},{default:l((()=>[c(u.$slots,"extra-message",{},(()=>[u.extraMessage?(e(),n("div",q,i(u.extraMessage),1)):d("v-if",!0)]))])),_:3},8,["name"])],2)],2)):d("v-if",!0)])),_:3},8,["name"])};var L=J;w(L),$(L,W);var Z=L,G=Object.defineProperty,H=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,le=(e,o,l)=>o in e?G(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l;const ne=Symbol("FORM_BIND_FORM_ITEM_KEY");function ae(){const{parentProvider:e,index:o,bindParent:l}=B(ne),n=p();return{index:o,form:e,bindForm:l?e=>{var o;l((o=((e,o)=>{for(var l in o||(o={}))ee.call(o,l)&&le(e,l,o[l]);if(X)for(var l of X(o))oe.call(o,l)&&le(e,l,o[l]);return e})({},e),H(o,Q({instance:n}))))}:null}}function re(){const{childProviders:e,length:o,bindChildren:l}=O(ne);return{length:o,formItems:e,bindFormItems:l}}const se={value:{type:null,required:!0},id:{type:String,default:""},isFocus:Boolean,size:{type:String,default:"normal"},variant:{type:String,default:"standard"},placeholder:String,line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:String,focusColor:String,blurColor:String,errorMessage:String,formDisabled:Boolean,disabled:Boolean,clearable:Boolean,cursor:String,composing:Boolean,onClick:I(),onClear:I()},{name:te,n:ie,classes:de}=S("field-decorator"),ce=["for"];const ue=u({name:te,components:{VarIcon:D},props:se,setup(e,{slots:o}){const l=v(null),n=v(""),a=b((()=>e.hint&&(!V(e.value)||e.isFocus||o["prepend-icon"]))),r=b((()=>e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor));function s(){const{size:o,hint:a,variant:r,placeholder:s}=e;if(!s||!a||"outlined"!==r)return void(n.value="");const t=z(l.value),i=`var(--field-decorator-outlined-${o}-placeholder-space)`;n.value=`calc(${t.width} * 0.75 + ${i} * 2)`}return E(s),j(s),y(s),{placeholderTextEl:l,color:r,legendWidth:n,isFloating:a,computePlaceholderState:function(){const{hint:o,value:l,composing:n}=e;return o||V(l)&&!n?a.value?ie("--placeholder-hint"):void 0:ie("--placeholder-hidden")},n:ie,classes:de,isEmpty:V,handleClear:function(o){P(e.onClear,o)},handleClick:function(o){P(e.onClick,o)}}}});ue.render=function(l,t){const u=h("var-icon");return e(),n("div",{class:a(l.classes(l.n(),l.n("$--box"),l.n(`--${l.variant}`),["small"===l.size,l.n("--small")],[l.disabled,l.n("--disabled")])),onClick:t[0]||(t[0]=(...e)=>l.handleClick&&l.handleClick(...e))},[r("div",{class:a(l.classes(l.n("controller"),[l.isFocus,l.n("--focus")],[l.errorMessage,l.n("--error")],[l.formDisabled||l.disabled,l.n("--disabled")])),style:m({color:l.color,cursor:l.cursor,overflow:l.isFloating?"visible":"hidden"})},[r("div",{class:a(l.classes(l.n("icon"),[!l.hint,l.n("--icon-non-hint")]))},[c(l.$slots,"prepend-icon")],2),r("div",{class:a(l.classes(l.n("middle"),[!l.hint,l.n("--middle-non-hint")]))},[c(l.$slots,"default")],2),l.placeholder&&l.hint?(e(),n("label",{key:0,class:a(l.classes(l.n("placeholder"),l.n("$--ellipsis"),[l.isFocus,l.n("--focus")],[l.formDisabled||l.disabled,l.n("--disabled")],[l.errorMessage,l.n("--error")],l.computePlaceholderState())),style:m({color:l.color}),for:l.id},[r("span",null,i(l.placeholder),1)],14,ce)):d("v-if",!0),r("div",{class:a(l.classes(l.n("icon"),[!l.hint,l.n("--icon-non-hint")]))},[l.clearable&&!l.isEmpty(l.value)?c(l.$slots,"clear-icon",{key:0},(()=>[s(u,{class:a(l.n("clear-icon")),"var-field-decorator-cover":"",name:"close-circle",onClick:l.handleClear},null,8,["class","onClick"])])):d("v-if",!0),c(l.$slots,"append-icon")],2)],6),l.line?(e(),n(f,{key:0},["outlined"===l.variant?(e(),n("fieldset",{key:0,class:a(l.classes(l.n("line"),[l.isFocus,l.n("--line-focus")],[l.errorMessage,l.n("--line-error")],[l.formDisabled||l.disabled,l.n("--line-disabled")])),style:m({borderColor:l.color})},[r("legend",{class:a(l.classes(l.n("line-legend"),[l.isFloating,l.n("line-legend--hint")])),style:m({width:l.legendWidth})},[l.placeholder&&l.hint?(e(),o(g,{key:0,to:"body"},[r("span",{ref:"placeholderTextEl",class:a(l.classes(l.n("placeholder-text"),l.n("$--ellipsis"),["small"===l.size,l.n("placeholder-text--small")]))},i(l.placeholder),3)])):d("v-if",!0)],6)],6)):(e(),n("div",{key:1,class:a(l.classes(l.n("line"),[l.formDisabled||l.disabled,l.n("--line-disabled")],[l.errorMessage,l.n("--line-error")])),style:m({background:l.errorMessage?void 0:l.blurColor})},[r("div",{class:a(l.classes(l.n("dot"),[l.isFocus,l.n("--line-focus")],[l.formDisabled||l.disabled,l.n("--line-disabled")],[l.errorMessage,l.n("--line-error")])),style:m({background:l.errorMessage?void 0:l.focusColor})},null,6)],6))],64)):d("v-if",!0)],2)};var pe=ue;w(pe),$(pe,se);var he=pe,me=Object.defineProperty,fe=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,be=(e,o,l)=>o in e?me(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l;const ye=((e,o)=>{for(var l in o||(o={}))ge.call(o,l)&&be(e,l,o[l]);if(fe)for(var l of fe(o))ve.call(o,l)&&be(e,l,o[l]);return e})({modelValue:String,modelModifiers:{type:Object,default:()=>({})},type:{type:String,default:"text"},textarea:Boolean,rows:{type:[String,Number],default:8},maxlength:[String,Number],readonly:Boolean,resize:Boolean,autofocus:Boolean,validateTrigger:{type:Array,default:()=>["onInput","onClear"]},rules:Array,enterkeyhint:String,onFocus:I(),onBlur:I(),onInput:I(),onChange:I(),onClear:I(),"onUpdate:modelValue":I()},T(se,["size","variant","placeholder","line","hint","textColor","focusColor","blurColor","disabled","clearable","onClick"])),{name:Ce,n:xe,classes:ke}=S("input"),Me=["placeholder","enterkeyhint"],Fe=["id","disabled","readonly","type","value","placeholder","maxlength","rows","enterkeyhint","inputmode"],Se=["id","disabled","readonly","type","value","placeholder","maxlength","enterkeyhint","inputmode"];const we=u({name:Ce,components:{VarFormDetails:Z,VarFieldDecorator:he},props:ye,setup(e){const o=_(),l=v(null),n=v(!1),a=v(!1),{bindForm:r,form:s}=ae(),{errorMessage:t,validateWithTrigger:i,validate:d,resetValidation:c}=R(),u=b((()=>e.disabled||e.readonly?"":"text")),p=b((()=>"number"===e.type?"text":e.type)),h=b((()=>{const{maxlength:o,modelValue:l}=e;return o?V(l)?`0 / ${o}`:`${String(l).length}/${o}`:""})),m=b((()=>{const{hint:o,blurColor:l,focusColor:a}=e;if(!o)return t.value?"var(--field-decorator-error-color)":n.value?a||"var(--field-decorator-focus-color)":l||"var(--field-decorator-placeholder-color, var(--field-decorator-blur-color))"}));function f(o){F((()=>{const{validateTrigger:l,rules:n,modelValue:a}=e;i(l,o,n,a)}))}function g(o){const l=o.target;let{value:n}=l;"number"===e.type&&(n=function(e){const o=e.indexOf("-"),l=e.indexOf(".");o>-1&&(e=0===o?"-"+e.replace(/-/g,""):e.replace(/-/g,""));l>-1&&(e=e.slice(0,l+1)+e.slice(l).replace(/\./g,""));return e.replace(/[^-0-9.]/g,"")}(n));const a=function(o){return e.maxlength?o.slice(0,N(e.maxlength)):o}(function(o){return e.modelModifiers.trim?o.trim():o}(n));return a===e.modelValue&&(l.value=a),a}function y(){P(e["onUpdate:modelValue"],""),c()}function C(){return d(e.rules,e.modelValue)}function x(){var e;null==(e=l.value)||e.focus()}return P(r,{reset:y,validate:C,resetValidation:c}),j((()=>{e.autofocus&&x()})),{el:l,id:o,isFocus:n,isComposing:a,errorMessage:t,placeholderColor:m,normalizedType:p,cursor:u,maxlengthText:h,formDisabled:null==s?void 0:s.disabled,formReadonly:null==s?void 0:s.readonly,n:xe,classes:ke,isEmpty:V,handleFocus:function(o){n.value=!0,P(e.onFocus,o),f("onFocus")},handleBlur:function(o){n.value=!1,P(e.onBlur,o),f("onBlur")},handleInput:function(o){if(a.value)return;const l=g(o);P(e["onUpdate:modelValue"],l),P(e.onInput,l,o),f("onInput")},handleChange:function(o){const l=g(o);P(e.onChange,l,o),f("onChange")},handleClear:function(){const{disabled:o,readonly:l,clearable:n,onClear:a}=e;(null==s?void 0:s.disabled.value)||(null==s?void 0:s.readonly.value)||o||l||!n||(P(e["onUpdate:modelValue"],""),P(a,""),f("onClear"))},handleClick:function(o){const{disabled:l,onClick:n}=e;(null==s?void 0:s.disabled.value)||l||(P(n,o),f("onClick"))},handleCompositionStart:function(){a.value=!0},handleCompositionEnd:function(e){a.value&&(a.value=!1,e.target.dispatchEvent(new Event("input")))},handleMousedown:function(o){const{disabled:n}=e;(null==s?void 0:s.disabled.value)||n||o.target===l.value||(x(),U(o))},validate:C,resetValidation:c,reset:y,focus:x,blur:function(){l.value.blur()}}}});we.render=function(o,r){const t=h("var-field-decorator"),i=h("var-form-details");return e(),n("div",{class:a(o.classes(o.n(),o.n("$--box"))),onMousedown:r[13]||(r[13]=(...e)=>o.handleMousedown&&o.handleMousedown(...e))},[s(t,x(k({value:o.modelValue,id:o.id,size:o.size,variant:o.variant,placeholder:o.placeholder,line:o.line,hint:o.hint,textColor:o.textColor,focusColor:o.focusColor,blurColor:o.blurColor,isFocus:o.isFocus,errorMessage:o.errorMessage,formDisabled:o.formDisabled,disabled:o.disabled,clearable:o.clearable,cursor:o.cursor,composing:o.isComposing,onClick:o.handleClick,onClear:o.handleClear})),C({"clear-icon":l((()=>[c(o.$slots,"clear-icon")])),"append-icon":l((()=>[c(o.$slots,"append-icon")])),default:l((()=>["password"===o.normalizedType?(e(),n("input",{key:0,tabindex:"-1",class:a(o.n("autocomplete")),placeholder:o.hint?void 0:o.placeholder,style:m({"--input-placeholder-color":o.placeholderColor}),enterkeyhint:o.enterkeyhint},null,14,Me)):d("v-if",!0),o.textarea?(e(),n("textarea",{key:1,class:a(o.classes(o.n("input"),o.n("--textarea"),[o.formDisabled||o.disabled,o.n("--disabled")],[o.errorMessage,o.n("--error")],[o.errorMessage,o.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:o.id,disabled:o.formDisabled||o.disabled,readonly:o.formReadonly||o.readonly,type:o.normalizedType,value:o.modelValue,placeholder:o.hint?void 0:o.placeholder,maxlength:o.maxlength,rows:o.rows,enterkeyhint:o.enterkeyhint,inputmode:"number"===o.type?"numeric":void 0,style:m({color:o.errorMessage?void 0:o.textColor,caretColor:o.errorMessage?void 0:o.focusColor,resize:o.resize?"vertical":"none","--input-placeholder-color":o.placeholderColor}),onFocus:r[0]||(r[0]=(...e)=>o.handleFocus&&o.handleFocus(...e)),onBlur:r[1]||(r[1]=(...e)=>o.handleBlur&&o.handleBlur(...e)),onInput:r[2]||(r[2]=(...e)=>o.handleInput&&o.handleInput(...e)),onChange:r[3]||(r[3]=(...e)=>o.handleChange&&o.handleChange(...e)),onCompositionstart:r[4]||(r[4]=(...e)=>o.handleCompositionStart&&o.handleCompositionStart(...e)),onCompositionend:r[5]||(r[5]=(...e)=>o.handleCompositionEnd&&o.handleCompositionEnd(...e))},null,46,Fe)):(e(),n("input",{key:2,class:a(o.classes(o.n("input"),[o.formDisabled||o.disabled,o.n("--disabled")],[o.errorMessage,o.n("--error")],[o.errorMessage,o.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:o.id,disabled:o.formDisabled||o.disabled,readonly:o.formReadonly||o.readonly,type:o.normalizedType,value:o.modelValue,placeholder:o.hint?void 0:o.placeholder,maxlength:o.maxlength,enterkeyhint:o.enterkeyhint,inputmode:"number"===o.type?"numeric":void 0,style:m({color:o.errorMessage?void 0:o.textColor,caretColor:o.errorMessage?void 0:o.focusColor,"--input-placeholder-color":o.placeholderColor}),onFocus:r[6]||(r[6]=(...e)=>o.handleFocus&&o.handleFocus(...e)),onBlur:r[7]||(r[7]=(...e)=>o.handleBlur&&o.handleBlur(...e)),onInput:r[8]||(r[8]=(...e)=>o.handleInput&&o.handleInput(...e)),onChange:r[9]||(r[9]=(...e)=>o.handleChange&&o.handleChange(...e)),onCompositionstart:r[10]||(r[10]=(...e)=>o.handleCompositionStart&&o.handleCompositionStart(...e)),onCompositionend:r[11]||(r[11]=(...e)=>o.handleCompositionEnd&&o.handleCompositionEnd(...e))},null,46,Se))])),_:2},[o.$slots["prepend-icon"]?{name:"prepend-icon",fn:l((()=>[c(o.$slots,"prepend-icon")])),key:"0"}:void 0]),1040),s(i,{"error-message":o.errorMessage,"extra-message":o.maxlengthText,onMousedown:r[12]||(r[12]=M((()=>{}),["stop"]))},C({_:2},[o.$slots["extra-message"]?{name:"extra-message",fn:l((()=>[c(o.$slots,"extra-message")])),key:"0"}:void 0]),1032,["error-message","extra-message"])],34)};var $e=we;w($e),$($e,ye);const Be=$e;export{Be as _,ae as a,re as u};
