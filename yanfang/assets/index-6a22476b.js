import{z as e,U as t,V as r,g as n,W as o,q as a,X as i,E as l}from"./index-330ef47a.js";function s(t){return"function"==typeof t?t():e(t)}const u="undefined"!=typeof window,f=()=>{};const c=e=>e();var p=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,d=(e,t)=>{var r={};for(var n in e)y.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&p)for(var n of p(e))t.indexOf(n)<0&&v.call(e,n)&&(r[n]=e[n]);return r};function b(e,t,r={}){const n=r,{eventFilter:o=c}=n,i=d(n,["eventFilter"]);return a(e,(l=o,s=t,function(...e){return new Promise(((t,r)=>{Promise.resolve(l((()=>s.apply(this,e)),{fn:s,thisArg:this,args:e})).then(t).catch(r)}))}),i);var l,s}var g=Object.defineProperty,w=Object.defineProperties,m=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,j=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&j(e,r,t[r]);if(O)for(var r of O(t))S.call(t,r)&&j(e,r,t[r]);return e},P=(e,t)=>w(e,m(t)),E=(e,t)=>{var r={};for(var n in e)h.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&O)for(var n of O(e))t.indexOf(n)<0&&S.call(e,n)&&(r[n]=e[n]);return r};function F(e,t,r={}){const a=r,{eventFilter:i}=a,l=E(a,["eventFilter"]),{eventFilter:s,pause:u,resume:f,isActive:p}=function(e=c){const t=n(!0);return{isActive:o(t),pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...r)=>{t.value&&e(...r)}}}(i);return{stop:b(e,t,P(A({},l),{eventFilter:s})),pause:u,resume:f,isActive:p}}function N(e){var t;const r=s(e);return null!=(t=null==r?void 0:r.$el)?t:r}const I=u?window:void 0;function x(...e){let n,o,i,l;if("string"==typeof e[0]||Array.isArray(e[0])?([o,i,l]=e,n=I):[n,o,i,l]=e,!n)return f;Array.isArray(o)||(o=[o]),Array.isArray(i)||(i=[i]);const u=[],c=()=>{u.forEach((e=>e())),u.length=0},p=a((()=>[N(n),s(l)]),(([e,t])=>{c(),e&&u.push(...o.flatMap((r=>i.map((n=>((e,t,r,n)=>(e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)))(e,r,n,t))))))}),{immediate:!0,flush:"post"}),y=()=>{p(),c()};var v;return v=y,t()&&r(v),y}const D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},J="__vueuse_ssr_handlers__",_=V();function V(){return J in D||(D[J]=D[J]||{}),D[J]}var k=Object.defineProperty,M=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,C=(e,t,r)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L=(e,t)=>{for(var r in t||(t={}))T.call(t,r)&&C(e,r,t[r]);if(M)for(var r of M(t))z.call(t,r)&&C(e,r,t[r]);return e};const q={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},U="vueuse-storage";function W(e,t,r,o={}){var a;const{flush:u="pre",deep:f=!0,listenToStorageChanges:c=!0,writeDefaults:p=!0,mergeDefaults:y=!1,shallow:v,window:d=I,eventFilter:b,onError:g=(e=>{})}=o,w=(v?i:n)(t);if(!r)try{r=function(e,t){return _[e]||t}("getDefaultStorage",(()=>{var e;return null==(e=I)?void 0:e.localStorage}))()}catch(P){g(P)}if(!r)return w;const m=s(t),O=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(m),h=null!=(a=o.serializer)?a:q[O],{pause:S,resume:j}=F(w,(()=>function(t){try{if(null==t)r.removeItem(e);else{const n=h.write(t),o=r.getItem(e);o!==n&&(r.setItem(e,n),d&&d.dispatchEvent(new CustomEvent(U,{detail:{key:e,oldValue:o,newValue:n,storageArea:r}})))}}catch(P){g(P)}}(w.value)),{flush:u,deep:f,eventFilter:b});return d&&c&&(x(d,"storage",A),x(d,U,(function(e){A(e.detail)}))),A(),w;function A(t){if(!t||t.storageArea===r)if(t&&null==t.key)w.value=m;else if(!t||t.key===e){S();try{w.value=function(t){const n=t?t.newValue:r.getItem(e);if(null==n)return p&&null!==m&&r.setItem(e,h.write(m)),m;if(!t&&y){const e=h.read(n);return"function"==typeof y?y(e,m):"object"!==O||Array.isArray(e)?e:L(L({},m),e)}return"string"!=typeof n?n:h.read(n)}(t)}catch(P){g(P)}finally{t?l(j):j()}}}}function X(e,t,r={}){const{window:n=I}=r;return W(e,t,null==n?void 0:n.localStorage,r)}export{X as u};
