import{e as t,c as e,k as a,s as o,g as l,r as i,v as n,d as s,f as u,x as r,y as c,h as v,w as d,a as f}from"./index-2de332e8.js";import{j as g,s as h,l as p,o as m,c as y,a as w,r as b,n as x,b as k,e as $,t as S,k as z,w as D,R as I,f as C,g as H,h as T,q as B,E as W}from"./index-330ef47a.js";const F={src:String,fit:{type:String,default:"cover"},imageHeight:[String,Number],imageWidth:[String,Number],outline:Boolean,layout:{type:String,default:"column"},floating:Boolean,floatingDuration:{type:Number,default:250},alt:String,title:String,subtitle:String,description:String,elevation:{type:[Boolean,Number,String],default:!0},ripple:Boolean,onClick:t(),"onUpdate:floating":t()};var R=(t,e,a)=>new Promise(((o,l)=>{var i=t=>{try{s(a.next(t))}catch(e){l(e)}},n=t=>{try{s(a.throw(t))}catch(e){l(e)}},s=t=>t.done?o(t.value):Promise.resolve(t.value).then(i,n);s((a=a.apply(t,e)).next())}));const{name:U,n:j,classes:N}=e("card"),P=["src","alt"];const E=C({name:U,directives:{Ripple:a},components:{VarIcon:o,VarButton:l},props:F,setup(t){const e=H(null),a=H(null),o=H("auto"),l=H("auto"),d=H("100%"),f=H("100%"),g=H("auto"),h=H("auto"),p=H(void 0),m=H("hidden"),y=H("0px"),w=H("0"),b=T((()=>"row"===t.layout)),x=H(!1),k=H(!1),{zIndex:$}=i((()=>t.floating),1);let S="auto",z="auto",D=null;const I=H(null);return n((()=>t.floating),(()=>!b.value)),B((()=>t.floating),(a=>{b.value||W((()=>{a?function(){R(this,null,(function*(){clearTimeout(I.value),clearTimeout(D),I.value=null,I.value=setTimeout((()=>R(this,null,(function*(){const{width:t,height:a,left:i,top:n}=r(e.value);o.value=s(t),l.value=s(a),d.value=o.value,f.value=l.value,g.value=s(n),h.value=s(i),p.value="fixed",S=g.value,z=h.value,x.value=!0,yield c(),g.value="0",h.value="0",d.value="100vw",f.value="100vh",y.value="auto",w.value="1",m.value="auto",k.value=!0}))),t.ripple?500:0)}))}():(clearTimeout(D),clearTimeout(I.value),I.value=null,d.value=o.value,f.value=l.value,g.value=S,h.value=z,y.value="0px",w.value="0",x.value=!1,D=setTimeout((()=>{o.value="auto",l.value="auto",d.value="100%",f.value="100%",g.value="auto",h.value="auto",S="auto",z="auto",m.value="hidden",p.value=void 0,k.value=!1}),t.floatingDuration))}))}),{immediate:!0}),{card:e,cardFloater:a,holderWidth:o,holderHeight:l,floater:I,floaterWidth:d,floaterHeight:f,floaterTop:g,floaterLeft:h,floaterPosition:p,floaterOverflow:m,contentHeight:y,opacity:w,zIndex:$,isRow:b,showFloatingButtons:x,floated:k,n:j,classes:N,toSizeUnit:s,close:function(){v(t["onUpdate:floating"],!1)},formatElevation:u,handleClick:function(e){v(t.onClick,e)}}}});E.render=function(t,e){const a=g("var-icon"),o=g("var-button"),l=h("ripple");return p((m(),y("div",{ref:"card",class:x(t.classes(t.n(),[t.isRow,t.n("--layout-row")],[t.outline,t.n("--outline")],t.formatElevation(t.elevation,1))),style:k({zIndex:t.floated?t.zIndex:void 0}),onClick:e[0]||(e[0]=(...e)=>t.handleClick&&t.handleClick(...e))},[w("div",{ref:"cardFloater",class:x(t.n("floater")),style:k({width:t.floaterWidth,height:t.floaterHeight,top:t.floaterTop,left:t.floaterLeft,overflow:t.floaterOverflow,position:t.floaterPosition,zIndex:t.floated?t.zIndex:void 0,background:t.outline&&!t.floated?"transparent":void 0,transition:t.floated?`background-color ${t.floatingDuration}ms, color ${t.floatingDuration}ms, width ${t.floatingDuration}ms, height ${t.floatingDuration}ms, top ${t.floatingDuration}ms, left ${t.floatingDuration}ms`:void 0})},[b(t.$slots,"image",{},(()=>[t.src?(m(),y("img",{key:0,class:x(t.n("image")),style:k({objectFit:t.fit,height:t.toSizeUnit(t.imageHeight),width:t.toSizeUnit(t.imageWidth)}),src:t.src,alt:t.alt},null,14,P)):$("v-if",!0)])),w("div",{class:x(t.n("container"))},[b(t.$slots,"title",{},(()=>[t.title?(m(),y("div",{key:0,class:x(t.n("title"))},S(t.title),3)):$("v-if",!0)])),b(t.$slots,"subtitle",{},(()=>[t.subtitle?(m(),y("div",{key:0,class:x(t.n("subtitle"))},S(t.subtitle),3)):$("v-if",!0)])),b(t.$slots,"description",{},(()=>[t.description?(m(),y("div",{key:0,class:x(t.n("description"))},S(t.description),3)):$("v-if",!0)])),t.$slots.extra?(m(),y("div",{key:0,class:x(t.n("footer"))},[b(t.$slots,"extra")],2)):$("v-if",!0),t.$slots["floating-content"]&&!t.isRow?(m(),y("div",{key:1,class:x(t.n("floating-content")),style:k({height:t.contentHeight,opacity:t.opacity,transition:`opacity ${2*t.floatingDuration}ms`})},[b(t.$slots,"floating-content")],6)):$("v-if",!0)],2),t.showFloatingButtons?(m(),y("div",{key:0,class:x(t.classes(t.n("floating-buttons"),t.n("$--box"))),style:k({zIndex:t.zIndex,opacity:t.opacity,transition:`opacity ${2*t.floatingDuration}ms`})},[b(t.$slots,"close-button",{},(()=>[z(o,{"var-card-cover":"",round:"",class:x(t.classes(t.n("close-button"),t.n("$-elevation--6"))),onClick:I(t.close,["stop"])},{default:D((()=>[z(a,{"var-card-cover":"",name:"window-close",class:x(t.n("close-button-icon"))},null,8,["class"])])),_:1},8,["class","onClick"])]))],6)):$("v-if",!0)],6),w("div",{class:x(t.n("holder")),style:k({width:t.holderWidth,height:t.holderHeight})},null,6)],6)),[[l,{disabled:!t.ripple||t.floater}]])};var L=E;d(L),f(L,F);const O=L;export{O as _};
