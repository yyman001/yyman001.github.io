import{o as e,c as t,e as o,a as i,n as a,j as n,h as s,k as l,i as r,l as d,q as c,d as u,f,w as v,m as p,E as b,_ as m,T as x,a7 as h,a8 as y,b as C,F as g,G as S,s as k,t as T,C as $,D as z}from"./index-e54f7498.js";import{a as w}from"./index-33f856f6.js";import{e as D,c as M,q as W,o as E,J as B,E as F,K as H,f as N,t as I,L,M as P,l as _,N as A,w as j,d as U,u as Y,g as X,p as q,b as K,h as Z,i as G,O as J,r as O}from"./index-15d558b7.js";import{e as R}from"./logger-cd782e7a.js";import{l as V}from"./shared-491d6769.js";const Q={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:Boolean,disabled:Boolean,onScroll:D()};var ee=(e,t,o)=>new Promise(((i,a)=>{var n=e=>{try{l(o.next(e))}catch(t){a(t)}},s=e=>{try{l(o.throw(e))}catch(t){a(t)}},l=e=>e.done?i(e.value):Promise.resolve(e.value).then(n,s);l((o=o.apply(e,t)).next())}));const{name:te,n:oe,classes:ie}=M("sticky");const ae=s({name:te,props:Q,setup(e){const t=l(null),o=l(null),i=l(!1),a=l("0px"),n=l("0px"),s=l("auto"),c=l("auto"),u=l("auto"),f=l("auto"),v=r((()=>!e.disabled&&e.cssMode)),p=r((()=>!e.disabled&&!e.cssMode&&i.value)),b=r((()=>W(e.offsetTop)));let m;function x(){const{cssMode:l,disabled:r}=e;if(r)return;let d=0;if(m!==window){const{top:e}=P(m);d=e}const v=o.value,p=t.value,{top:x,left:h}=P(p),y=x-d;return y<=b.value?(l||(s.value=`${p.offsetWidth}px`,c.value=`${p.offsetHeight}px`,a.value=`${d+b.value}px`,n.value=`${h}px`,u.value=`${v.offsetWidth}px`,f.value=`${v.offsetHeight}px`,i.value=!0),{offsetTop:b.value,isFixed:!0}):(i.value=!1,{offsetTop:y,isFixed:!1})}function h(){const t=x();t&&N(e.onScroll,t.offsetTop,t.isFixed)}function y(){return ee(this,null,(function*(){i.value=!1,yield A(),x()}))}return d((()=>e.disabled),y),E((()=>ee(this,null,(function*(){yield L(),m=_(t.value),m!==window&&m.addEventListener("scroll",h),h()})))),B((function(){if(!m||m===window)return;m.removeEventListener("scroll",h)})),F(y),H((()=>window),"scroll",h),{stickyEl:t,wrapperEl:o,isFixed:i,offsetTop:b,fixedTop:a,fixedLeft:n,fixedWidth:s,fixedHeight:c,fixedWrapperWidth:u,fixedWrapperHeight:f,enableCSSMode:v,enableFixedMode:p,n:oe,classes:ie,resize:y,toNumber:I}}});ae.render=function(s,l){return e(),t("div",{class:a(s.classes(s.n(),[s.enableCSSMode,s.n("--css-mode")])),ref:"stickyEl",style:n({zIndex:s.toNumber(s.zIndex),top:s.enableCSSMode?`${s.offsetTop}px`:void 0,width:s.enableFixedMode?s.fixedWidth:void 0,height:s.enableFixedMode?s.fixedHeight:void 0})},[o("div",{class:a(s.n("wrapper")),ref:"wrapperEl",style:n({zIndex:s.toNumber(s.zIndex),position:s.enableFixedMode?"fixed":void 0,width:s.enableFixedMode?s.fixedWrapperWidth:void 0,height:s.enableFixedMode?s.fixedWrapperHeight:void 0,left:s.enableFixedMode?s.fixedLeft:void 0,top:s.enableFixedMode?s.fixedTop:void 0})},[i(s.$slots,"default")],6)],6)};var ne=ae;j(ne),U(ne,Q);var se=ne;const le={name:[String,Number],disabled:Boolean,ripple:{type:Boolean,default:!0},onClick:D()},re=Symbol("TABS_BIND_TAB_KEY");const{name:de,n:ce,classes:ue}=M("tab");const fe=s({name:de,directives:{Ripple:w},props:le,setup(e){const t=l(null),o=r((()=>t.value)),i=r((()=>e.name)),a=r((()=>e.disabled)),{index:n,tabs:s,bindTabs:c}=function(){const{parentProvider:e,bindParent:t,index:o}=X(re);return t||R("Tab","<var-tab/> must in <var-tabs/>"),{index:o,tabs:e,bindTabs:t}}(),{onTabClick:u,active:f,activeColor:v,inactiveColor:p,disabledColor:b,itemDirection:m,resize:x}=s,h={name:i,index:n,disabled:a,element:o};function y(){return null!=e.name?f.value===e.name:f.value===(null==n?void 0:n.value)}return c(h),d((()=>[e.name,e.disabled]),x),{tabEl:t,active:f,activeColor:v,inactiveColor:p,itemDirection:m,n:ce,classes:ue,computeColorStyle:function(){return e.disabled?b.value:y()?v.value:p.value},computeColorClass:function(){return e.disabled?ce("$-tab--disabled"):y()?ce("$-tab--active"):ce("$-tab--inactive")},handleClick:function(t){const{disabled:o,name:i,onClick:a}=e;o||(N(a,null!=i?i:n.value,t),u(h))}}}});fe.render=function(o,s){const l=c("ripple");return u((e(),t("div",{class:a(o.classes(o.n(),o.n("$--box"),o.computeColorClass(),o.n(`--${o.itemDirection}`))),ref:"tabEl",style:n({color:o.computeColorStyle()}),onClick:s[0]||(s[0]=(...e)=>o.handleClick&&o.handleClick(...e))},[i(o.$slots,"default")],6)),[[l,{disabled:o.disabled||!o.ripple}]])};var ve=fe;j(ve),U(ve,le);const pe=ve,be={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal"},itemDirection:{type:String,default:"horizontal"},fixedBottom:Boolean,activeColor:String,inactiveColor:String,disabledColor:String,color:String,indicatorColor:String,indicatorSize:[String,Number],elevation:{type:[Boolean,String,Number],default:!1},scrollable:{type:String,default:"auto"},indicatorPosition:{type:String,default:"normal"},safeArea:Boolean,sticky:Boolean,stickyCssMode:q(Q,"cssMode"),stickyZIndex:q(Q,"zIndex"),offsetTop:q(Q,"offsetTop"),onClick:D(),onChange:D(),"onUpdate:active":D()};var me=(e,t,o)=>new Promise(((i,a)=>{var n=e=>{try{l(o.next(e))}catch(t){a(t)}},s=e=>{try{l(o.throw(e))}catch(t){a(t)}},l=e=>e.done?i(e.value):Promise.resolve(e.value).then(n,s);l((o=o.apply(e,t)).next())}));const{name:xe,n:he,classes:ye}=M("tabs");const Ce=s({name:xe,components:{VarSticky:se},inheritAttrs:!1,props:be,setup(e){const t=l("0px"),o=l("0px"),i=l("0px"),a=l("0px"),n=l(!1),s=l(null),c=r((()=>e.active)),u=r((()=>e.activeColor)),f=r((()=>e.inactiveColor)),v=r((()=>e.disabledColor)),p=r((()=>e.itemDirection)),b=l(null),h=r((()=>"reverse"===e.indicatorPosition?"-reverse":"")),{tabList:y,bindTabList:C,length:g}=function(){const{childProviders:e,bindChildren:t,length:o}=Y(re);return{length:o,tabList:e,bindTabList:t}}();function S(t){return y.find((({index:o})=>(null!=t?t:e.active)===o.value))}function k(){const l=y.find((({name:t})=>e.active===t.value))||S()||function(){if(0===g.value)return;const{active:t}=e;if(G(t)){const o=J(t,0,g.value-1);return N(e["onUpdate:active"],o),S(o)}}();l&&!l.disabled.value&&(n.value="always"===e.scrollable||y.length>=5,function({element:n}){const s=n.value;s&&("horizontal"===e.layoutDirection?(t.value=`${s.offsetWidth}px`,i.value=`${s.offsetLeft}px`):(o.value=`${s.offsetHeight}px`,a.value=`${s.offsetTop}px`))}(l),function({element:t}){if(!n.value)return;const o=s.value,i=t.value;if("horizontal"===e.layoutDirection){const e=i.offsetLeft+i.offsetWidth/2-o.offsetWidth/2;O(o,{left:e,animation:V})}else{const e=i.offsetTop+i.offsetHeight/2-o.offsetHeight/2;O(o,{top:e,animation:V})}}(l))}return C({active:c,activeColor:u,inactiveColor:f,disabledColor:v,itemDirection:p,resize:k,onTabClick:function(t){var o;const i=null!=(o=t.name.value)?o:t.index.value,{active:a,onChange:n,onClick:s}=e;N(e["onUpdate:active"],i),N(s,i),i!==a&&N(n,i)}}),d((()=>g.value),(()=>me(this,null,(function*(){yield L(),k()})))),d((()=>[e.active,e.scrollable]),k),m(k),F(k),{stickyComponent:b,indicatorWidth:t,indicatorHeight:o,indicatorX:i,indicatorY:a,indicatorPosition:h,localScrollable:n,scrollerEl:s,Transition:x,toSizeUnit:K,n:he,classes:ye,resize:k,resizeSticky:function(){return me(this,null,(function*(){e.sticky&&b.value&&(yield b.value.resize())}))},formatElevation:Z}}});Ce.render=function(t,s){return e(),f(b(t.sticky?t.n("$-sticky"):t.Transition),{ref:t.sticky?"stickyComponent":void 0,"css-mode":t.sticky?t.stickyCssMode:void 0,"offset-top":t.sticky?t.offsetTop:void 0,"z-index":t.sticky?t.stickyZIndex:void 0},{default:v((()=>[o("div",p({class:t.classes(t.n(),t.n("$--box"),t.n(`--item-${t.itemDirection}`),t.n(`--layout-${t.layoutDirection}-padding`),t.formatElevation(t.elevation,4),[t.fixedBottom,t.n("--fixed-bottom")],[t.safeArea,t.n("--safe-area")]),style:{background:t.color}},t.$attrs),[o("div",{ref:"scrollerEl",class:a(t.classes(t.n("tab-wrap"),[t.localScrollable,t.n(`--layout-${t.layoutDirection}-scrollable`)],t.n(`--layout-${t.layoutDirection}`)))},[i(t.$slots,"default"),o("div",{class:a(t.classes(t.n("indicator"),t.n(`--layout-${t.layoutDirection}${t.indicatorPosition}-indicator`))),style:n({width:"horizontal"===t.layoutDirection?t.indicatorWidth:t.toSizeUnit(t.indicatorSize),height:"horizontal"===t.layoutDirection?t.toSizeUnit(t.indicatorSize):t.indicatorHeight,transform:"horizontal"===t.layoutDirection?`translateX(${t.indicatorX})`:`translateY(${t.indicatorY})`})},[o("div",{class:a(t.classes(t.n("indicator-inner"),t.n(`--layout-${t.layoutDirection}-indicator-inner`))),style:n({background:t.indicatorColor||t.activeColor})},null,6)],6)],2)],16)])),_:3},8,["css-mode","offset-top","z-index"])};var ge=Ce;j(ge),U(ge,be);const Se=ge,ke={class:"shadow-sm"},Te=s({__name:"index",props:{list:{type:Array,default:()=>[]},cards:{type:Array,default:()=>[]}},setup(o,{expose:i}){const a=o,n=l(0),s=h("scrollY");let d=0;const c=r((()=>a.cards.map(((e,t)=>(0===t&&(d=e.offsetTop),{id:e.getAttribute("data-anchor"),location:e.offsetTop-d,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight-d,index:t}))))),u=l(!1),p=e=>{const t=a.cards[0].offsetTop||70,o=a.cards.find((t=>t.getAttribute("data-anchor")===e.objectId)),i=o&&o.offsetTop-t;s.value=i,b(e.roomIndex),u.value=!0,setTimeout((()=>{u.value=!1}),100)},b=e=>{n.value=e};return y(s,(e=>{u.value||c.value.some((t=>{if(e>=t.location&&e<t.bottom)return b(t.index),!0}))}),{debounce:10,maxWait:50}),i({handleSwithNav:p}),(i,a)=>{const s=pe,l=Se;return e(),t("div",ke,[C(l,{active:$(n),"onUpdate:active":a[0]||(a[0]=e=>z(n)?n.value=e:null),elevation:""},{default:v((()=>[(e(!0),t(g,null,S(o.list,((t,o)=>(e(),f(s,{key:o,onClick:e=>p(t)},{default:v((()=>[k(T(t.name),1)])),_:2},1032,["onClick"])))),128))])),_:1},8,["active"])])}}});export{Te as _};
