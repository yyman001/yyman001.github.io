import{P as t,g as a,G as e}from"./index-330ef47a.js";const n=(n="test")=>{const s=t.Object.extend(n),c=()=>new s,o=async t=>{const a=c();await a.save({...t}),await w()},i=async a=>{const e=c(),n=new t.Query(e);return await n.get(a)},r=async()=>{const a=c(),e=new t.Query(a);e.descending("createdAt");return(await e.find()).map((t=>t.toJSON()))},d=a([]);e((()=>{w()}));const w=async()=>{d.value=await r()};return{addDoc:o,updateDoc:async t=>{if(!(await i(t.objectId)))return`not find object ${t.objectId}`;await o(t)},queryObject:i,queryAll:r,delFiledAtObject:async t=>{const a=c();a.unset(t),await a.save(),await w()},delObject:async t=>{const a=c();a.id=t,await a.destroy(),await w()},destroy:async()=>{const t=c();await t.destroy()},parseList:d}};export{n as u};
