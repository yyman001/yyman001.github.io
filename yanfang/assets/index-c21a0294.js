import{r as e,o as t,c as a,a as n,b as o,w as s,d as i,e as l,m as r,f as c,n as u,g as f,t as d,v as m,T as p,h as v,i as g,j as b,k as y,l as h,p as x,q as C,s as k,u as S,x as N,y as w,z as _,A as $,B,C as I,D as O,K as z,E as P,F as j,G as A}from"./index-e54f7498.js";import{_ as T}from"./index-574fb5ae.js";import{s as F,a as V,_ as E}from"./index-33f856f6.js";import{p as M,a as L,c as R,s as U,t as D,b as q,w as G,d as H,e as Y,u as K,o as X,i as J,f as Q,n as W,g as Z,_ as ee}from"./index-15d558b7.js";import{e as te}from"./logger-cd782e7a.js";import{_ as ae}from"./_plugin-vue_export-helper-1b428a4d.js";const ne={type:{type:String,default:"default"},position:{type:String,default:"right-top"},hidden:Boolean,value:{type:[String,Number],default:0},maxValue:[String,Number],dot:Boolean,icon:M(L,"name"),namespace:M(L,"namespace"),color:String,offsetX:{type:[String,Number],default:0},offsetY:{type:[String,Number],default:0}};var oe=Object.defineProperty,se=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,re=(e,t,a)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ce=(e,t)=>{for(var a in t||(t={}))ie.call(t,a)&&re(e,a,t[a]);if(se)for(var a of se(t))le.call(t,a)&&re(e,a,t[a]);return e};const{name:ue,n:fe,classes:de}=R("badge"),me={key:0};const pe=v({name:ue,components:{VarIcon:U},inheritAttrs:!1,props:ne,setup:e=>({value:g((()=>{const{value:t,maxValue:a}=e;return null!=t&&null!=a&&D(t)>D(a)?`${a}+`:t})),offsetStyle:g((()=>({"--badge-offset-y":q(e.offsetY),"--badge-offset-x":q(e.offsetX)}))),n:fe,classes:de})});pe.render=function(v,g){const b=e("var-icon");return t(),a("div",{class:u(v.classes(v.n(),v.n("$--box")))},[n(v.$slots,"default"),o(p,{name:v.n("$-badge-fade"),persisted:""},{default:s((()=>[i(l("span",r({class:v.classes(v.n("content"),v.n(`--${v.type}`),[v.$slots.default,v.n(`--${v.position}`),v.n("--offset")],[v.dot,v.n("--dot")],[v.icon,v.n("--icon")]),style:ce({background:v.color},v.offsetStyle)},v.$attrs),[v.icon?(t(),c(b,{key:0,class:u(v.n("icon")),"var-badge-cover":"",name:v.icon,namespace:v.namespace},null,8,["class","name","namespace"])):f("v-if",!0),n(v.$slots,"value",{},(()=>[v.icon||v.dot?f("v-if",!0):(t(),a("span",me,d(v.value),1))]))],16),[[m,!v.hidden]])])),_:3},8,["name"])],2)};var ve=pe;G(ve),H(ve,ne);var ge=ve;const be={active:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:1},fixed:Boolean,border:Boolean,safeArea:Boolean,activeColor:String,inactiveColor:String,fabProps:Object,onChange:Y(),onBeforeChange:Y(),onFabClick:Y(),"onUpdate:active":Y()},ye=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY");var he=Object.defineProperty,xe=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,Se=(e,t,a)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ne=(e,t)=>{for(var a in t||(t={}))Ce.call(t,a)&&Se(e,a,t[a]);if(xe)for(var a of xe(t))ke.call(t,a)&&Se(e,a,t[a]);return e};const{name:we,n:_e,classes:$e}=R("bottom-navigation"),{n:Be}=R("bottom-navigation-item"),Ie=Be("--right-half-space"),Oe=Be("--left-half-space"),ze=Be("--right-space"),Pe={type:"primary"};const je=v({name:we,components:{VarButton:F},props:be,setup(e,{slots:t}){const a=y(null),n=g((()=>e.active)),o=g((()=>e.activeColor)),s=g((()=>e.inactiveColor)),i=y({}),{length:l,bottomNavigationItems:r,bindBottomNavigationItem:c}=function(){const{childProviders:e,length:t,bindChildren:a}=K(ye);return{length:t,bottomNavigationItems:e,bindBottomNavigationItem:a}}();function u(t){Q(e["onUpdate:active"],t),Q(e.onChange,t)}function f(e){const t=d(),a=t.length,n=e%2==0;t.forEach(((e,t)=>{!function(e,t,a,n){const o=a===n-1;if(!e&&o)return void t.classList.add(ze);const s=a===n/2-1,i=a===n/2;s?t.classList.add(Ie):i&&t.classList.add(Oe)}(n,e,t,a)}))}function d(){return Array.from(a.value.querySelectorAll(`.${Be()}`))}return c({active:n,activeColor:o,inactiveColor:s,onToggle:function(t){if(n.value===t)return;e.onBeforeChange?function(t){const a=W(Q(e.onBeforeChange,t));Promise.all(a).then((e=>{e.every(Boolean)&&u(t)}))}(t):u(t)}}),h((()=>l.value),(function(){if(0===l.value||r.find((({name:e})=>n.value===e.value))||r.find((({index:e})=>n.value===e.value)))return;!function(){if(!J(n.value))return;n.value<0?Q(e["onUpdate:active"],0):n.value>l.value-1&&Q(e["onUpdate:active"],l.value-1)}()})),h((()=>e.fabProps),(e=>{i.value=Ne(Ne({},Pe),e)}),{immediate:!0,deep:!0}),X((()=>{t.fab&&f(l.value)})),x((()=>{d().forEach((e=>{e.classList.remove(Ie,Oe,ze)})),t.fab&&f(l.value)})),{length:l,bottomNavigationDom:a,fabProps:i,n:_e,classes:$e,handleFabClick:function(){Q(e.onFabClick)}}}});je.render=function(o,i){const l=e("var-button");return t(),a("div",{class:u(o.classes(o.n(),o.n("$--box"),[o.fixed,o.n("--fixed")],[o.border,o.n("--border")],[o.safeArea,o.n("--safe-area")])),ref:"bottomNavigationDom",style:b(`z-index:${o.zIndex}`)},[n(o.$slots,"default"),o.$slots.fab?(t(),c(l,r({key:0,class:o.classes(o.n("fab"),[o.length%2,o.n("--fab-right"),o.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:o.handleFabClick},o.fabProps,{round:""}),{default:s((()=>[n(o.$slots,"fab")])),_:3},16,["class","onClick"])):f("v-if",!0)],6)};var Ae=je;G(Ae),H(Ae,be);const Te=Ae,Fe={name:String,label:String,icon:M(L,"name"),namespace:M(L,"namespace"),badge:{type:[Boolean,Object],default:!1},onClick:Y()};const{name:Ve,n:Ee,classes:Me}=R("bottom-navigation-item"),Le={type:"danger",dot:!0};const Re=v({name:Ve,components:{VarBadge:ge,VarIcon:U},directives:{Ripple:V},props:Fe,setup(e){const t=g((()=>e.name)),a=g((()=>[t.value,o.value].includes(l.value))),n=g((()=>!0===e.badge?Le:e.badge)),{index:o,bottomNavigation:s,bindBottomNavigation:i}=function(){const{parentProvider:e,index:t,bindParent:a}=Z(ye);return a||te("BottomNavigationItem","<var-bottom-navigation-item/> must in <var-bottom-navigation/>"),{index:t,bottomNavigation:e,bindBottomNavigation:a}}(),{active:l,activeColor:r,inactiveColor:c}=s;return i({name:t,index:o}),{activeColor:r,inactiveColor:c,badgeProps:n,isActive:a,n:Ee,classes:Me,handleClick:function(){var a;const n=null!=(a=t.value)?a:o.value;Q(e.onClick,n),Q(s.onToggle,n)}}}});Re.render=function(o,s){const m=e("var-icon"),p=e("var-badge"),v=C("ripple");return i((t(),a("button",{class:u(o.classes(o.n(),o.n("$--box"),[o.isActive,o.n("--active")])),style:b({color:o.isActive?o.activeColor:o.inactiveColor}),onClick:s[0]||(s[0]=(...e)=>o.handleClick&&o.handleClick(...e))},[n(o.$slots,"icon",{active:o.isActive},(()=>[o.icon?(t(),c(m,{key:0,name:o.icon,namespace:o.namespace,class:u(o.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):f("v-if",!0)])),o.badge?(t(),c(p,r({key:0},o.badgeProps,{class:o.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):f("v-if",!0),l("span",{class:u(o.n("label"))},[n(o.$slots,"default",{},(()=>[k(d(o.label),1)]))],2)],6)),[[v]])};var Ue=Re;G(Ue),H(Ue,Fe);const De=Ue,qe=v({__name:"IconFont",props:{name:{type:String,default:""},size:{type:[String,Number],default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},classPrefix:{type:String,default:"nut-icon"},fontClassName:{type:String,default:"nutui-iconfont"},color:{type:String,default:""},tag:{type:String,default:"i"}},setup(e){var a;const n=e,o="nut-icon",s=S(),i=e=>{if(e)return isNaN(Number(e))?String(e):e+"px"},l=!!n.name&&-1!==n.name.indexOf("/");let r=N(l?"img":n.tag,{class:l?`${o}__img`:`${n.fontClassName} ${o} ${n.classPrefix}-${n.name}`,style:{color:n.color,fontSize:i(n.size),width:i(n.width||n.size),height:i(n.height||n.size)},src:l?n.name:""},null==(a=s.default)?void 0:a.call(s));const u=()=>r;return(e,a)=>(t(),c(u))}});var Ge;(Ge=qe).name="IconFont",Ge.install=e=>{e.component("IconFont",Ge)};const He=e=>v({props:{class:{type:String,default:""},name:{type:String,default:e},color:{type:String,default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""}},setup(e){const t=e=>{if(e)return isNaN(Number(e))?String(e):e+"px"};return{classes:g((()=>{const t="nut-icon";return{[e.class]:e.class,[t]:!0,[t+"-"+e.name]:e.name}})),style:g((()=>{const a={};return a.height=t(e.height),a.width=t(e.width),a.color=e.color,a}))}}}),Ye=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a},Ke=He("horizontal"),Xe=[l("path",{d:"M977.455 124.121H46.545C21.721 124.121 0 102.4 0 77.576S21.721 31.03 46.545 31.03h930.91c24.824 0 46.545 21.722 46.545 46.546s-21.721 46.545-46.545 46.545zm0 868.849H46.545C21.721 992.97 0 971.248 0 946.424s21.721-46.545 46.545-46.545h930.91c24.824 0 46.545 21.721 46.545 46.545s-21.721 46.546-46.545 46.546zm0-434.425H356.848c-24.824 0-46.545-21.72-46.545-46.545s21.721-46.545 46.545-46.545h620.607c24.824 0 46.545 21.72 46.545 46.545s-21.721 46.545-46.545 46.545z",fill:"currentColor","fill-opacity":"0.9"},null,-1)];const Je=Ye(Ke,[["render",function(e,n,o,s,i,l){return t(),a("svg",{class:u(e.classes),style:b(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1090 1024",role:"presentation"},Xe,6)}]]),Qe=He("my"),We=[l("path",{d:"M512 813.949c-225.805 0-406.974-183.795-406.974-406.975S286.195 0 512 0s406.974 181.17 406.974 406.974S735.18 813.95 512 813.95zm0-735.18c-181.17 0-328.205 147.036-328.205 328.205S330.83 735.18 512 735.18s328.205-147.035 328.205-328.205S693.17 78.77 512 78.77zm202.174 939.98c-21.005 0-39.384-18.38-39.384-39.385 0-89.272-73.518-162.79-162.79-162.79-89.272 0-162.79 73.518-162.79 162.79 0 21.005-18.38 39.385-39.384 39.385s-39.385-18.38-39.385-39.385c0-133.908 107.651-241.559 241.559-241.559s241.559 107.651 241.559 241.56c0 21.004-15.754 39.384-39.385 39.384zM512 525.129c-39.385 0-78.77-13.129-105.026-36.76-15.753-13.128-18.38-39.384-2.625-55.138 13.128-15.754 39.384-18.38 55.138-2.626 23.63 21.005 81.395 21.005 105.026 0 15.754-13.128 42.01-13.128 55.138 5.251 13.128 15.754 13.128 42.01-5.251 55.139C590.77 512 551.385 525.128 512 525.128z",fill:"currentColor","fill-opacity":"0.9"},null,-1)];const Ze=Ye(Qe,[["render",function(e,n,o,s,i,l){return t(),a("svg",{class:u(e.classes),style:b(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},We,6)}]]),et={class:"flex flex-col h-screen"},tt={class:"sticky top-0 z-10 flex-shrink-0"},at={class:"flex-grow overflow-y-auto scroll-smooth"},nt={class:"sticky bottom-0 z-10 flex-shrink-0"},ot=v({name:"BasicLayoutPage"}),st=ae(v({...ot,setup(n){const r=y(null),{getTitle:d}=w(),{getActionRoomName:p}=_(),v=[{key:"list",name:"列表",icon:Je},{key:"userInfo",name:"我的",icon:Ze}],b=$(),x=B(),C=y(0),k=y(!0),S=g((()=>!!x&&["list"].includes(x.name))),N=g((()=>x?"details"===x.name?d():"questionPage"===x.name?p():x.meta.title:""));h((()=>b),(()=>{const e=v.some((e=>e.key===b.currentRoute.value.path.replace("/","")));C.value=v.findIndex((e=>e.key===b.currentRoute.value.path.replace("/",""))),k.value=e}),{deep:!0,immediate:!0});const F=e=>{switch(e){case 0:b.push("/list");break;case 1:b.push("/userInfo")}C.value=e},V=()=>{b.back()},M=()=>{b.push("add")};return(n,d)=>{const p=ee,g=E,b=T,y=e("RouterView"),h=De,x=Te;return t(),a("div",et,[l("div",tt,[I(S)?f("",!0):(t(),c(b,{key:0,title:I(N),"title-position":"center","safe-area-top":""},{left:s((()=>[o(g,{color:"transparent","text-color":"#fff",round:"",text:""},{default:s((()=>[o(p,{name:"chevron-left",size:30,onClick:V})])),_:1})])),_:1},8,["title"]))]),l("div",at,[l("div",{ref_key:"el",ref:r,class:u(["min-h-full px-4 pt-4 overflow-auto bg-indigo-50",{tabbar:I(S),border:I(k)}])},[n.$route.meta.keepAlive?(t(),c(y,{key:0},{default:s((({Component:e})=>[(t(),c(z,null,[(t(),c(P(e),{key:n.$route.path}))],1024))])),_:1})):f("",!0),n.$route.meta.keepAlive?f("",!0):(t(),c(y,{key:n.$route.path}))],2)]),l("div",nt,[i(o(x,{border:"",active:I(C),"onUpdate:active":d[0]||(d[0]=e=>O(C)?C.value=e:null),onFabClick:M,onChange:F},{fab:s((()=>[o(p,{name:"plus"})])),default:s((()=>[(t(),a(j,null,A(v,(e=>o(h,{key:e.key,label:e.name},null,8,["label"]))),64))])),_:1},8,["active"]),[[m,I(S)]])])])}}}),[["__scopeId","data-v-cb77d13e"]]);export{st as default};
