import{_ as e}from"./index-9368bc96.js";import{_ as a}from"./index-85e8a41a.js";import{s,_ as r}from"./index-9ba43d71.js";import{A as o,J as l,L as t,M as n,c as d,b as i,w as m,o as p,C as c,s as u}from"./index-a6a8f6bb.js";import{_}from"./index-b7b21e48.js";import"./_plugin-vue_export-helper-1b428a4d.js";const f={class:"absolute w-full p-4 -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2"},g={__name:"login",setup(g){const w=o(),x=l(),{logIn:b}=x,j=t({username:"",password:""}),v=async()=>{if(!j.username||!j.password)return void s.warning("账号密码不能为空!");const{code:e,message:a}=await b(j);1===e?s.success(a):s.error(a);const r=localStorage.getItem("redirect");r&&w.replace({path:r})};return n((()=>{localStorage.removeItem("redirect")})),(s,o)=>{const l=a,t=r,n=e;return p(),d("div",f,[i(_,{title:"登录信息"},{default:m((()=>[i(t,{class:"mb-4",variant:"outlined",placeholder:"账号",size:"small",modelValue:c(j).username,"onUpdate:modelValue":o[0]||(o[0]=e=>c(j).username=e),clearable:""},{"prepend-icon":m((()=>[i(l,{name:"account-circle"})])),_:1},8,["modelValue"]),i(t,{type:"password",variant:"outlined",placeholder:"密码",size:"small",modelValue:c(j).password,"onUpdate:modelValue":o[1]||(o[1]=e=>c(j).password=e),clearable:""},{"prepend-icon":m((()=>[i(l,{name:"lock"})])),_:1},8,["modelValue"])])),_:1}),i(n,{type:"primary",size:"large",block:"",onClick:v},{default:m((()=>[u("登录")])),_:1})])}}};export{g as default};
