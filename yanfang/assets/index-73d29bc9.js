import{j as e,l as n,v as o,o as t,c as a,a as s,n as r,r as i,d as c,t as l,p,e as d,b as u,f,g as v,h as y,q as b,k as m,w as g,m as O,T as w,S as k,H as S,a0 as h}from"./index-330ef47a.js";import{p as C,e as j,N as E,c as z,O as $,s as x,r as A,v as I,h as P,o as T,B as _,P as B,w as L,a as N,Q as R,R as V,S as D,t as F,T as U}from"./index-2de332e8.js";var q=Object.defineProperty,K=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,G=(e,n,o)=>n in e?q(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o;const J={type:String,position:{type:String,default:"top"},content:{type:[String,Function,Object]},contentClass:String,duration:{type:Number,default:3e3},vertical:Boolean,loadingType:C(E,"type"),loadingSize:C(E,"size"),loadingRadius:C(E,"radius"),loadingColor:(W=((e,n)=>{for(var o in n||(n={}))M.call(n,o)&&G(e,o,n[o]);if(H)for(var o of H(n))Q.call(n,o)&&G(e,o,n[o]);return e})({},C(E,"color")),X={default:"currentColor"},K(W,Y(X))),lockScroll:Boolean,show:Boolean,teleport:{type:[String,Object,Boolean],default:"body"},forbidClick:Boolean,onOpen:j(),onOpened:j(),onClose:j(),onClosed:j(),"onUpdate:show":j(),_update:String};var W,X;const{n:Z,classes:ee}=z("snackbar"),ne={success:"checkbox-marked-circle",warning:"warning",info:"information",error:"error",loading:""};const oe=f({name:"VarSnackbarCore",components:{VarLoading:$,VarIcon:x},props:J,setup(e){const n=v(null),{zIndex:o}=A((()=>e.show),1);I((()=>e.show),(()=>e.lockScroll));const t=y((()=>"loading"===e.type||e.forbidClick)),a=y((()=>e.type?ne[e.type]:"")),s=()=>{n.value=setTimeout((()=>{"loading"!==e.type&&P(e["onUpdate:show"],!1)}),e.duration)};return b((()=>e.show),(o=>{o?(P(e.onOpen),s()):!1===o&&(clearTimeout(n.value),P(e.onClose))})),b((()=>e._update),(()=>{clearTimeout(n.value),s()})),T((()=>{e.show&&(P(e.onOpen),s())})),{SNACKBAR_TYPE:ve,n:Z,classes:ee,zIndex:o,iconName:a,isForbidClick:t}}});oe.render=function(f,v){const y=e("var-icon"),b=e("var-loading");return n((t(),a("div",{class:r(f.n()),style:u({pointerEvents:f.isForbidClick?"auto":"none",zIndex:f.zIndex})},[s("div",{class:r(f.classes(f.n("wrapper"),f.n(`wrapper-${f.position}`),f.n("$-elevation--4"),[f.vertical,f.n("vertical")],[f.type&&f.SNACKBAR_TYPE.includes(f.type),f.n(`wrapper-${f.type}`)])),style:u({zIndex:f.zIndex})},[s("div",{class:r([f.n("content"),f.contentClass])},[i(f.$slots,"default",{},(()=>[c(l(f.content),1)]))],2),s("div",{class:r([f.n("icon")])},[f.iconName?(t(),p(y,{key:0,name:f.iconName},null,8,["name"])):d("v-if",!0),"loading"===f.type?(t(),p(b,{key:1,type:f.loadingType,size:f.loadingSize,color:f.loadingColor,radius:f.loadingRadius},null,8,["type","size","color","radius"])):d("v-if",!0),i(f.$slots,"icon")],2),f.$slots.action?(t(),a("div",{key:0,class:r(f.n("action"))},[i(f.$slots,"action")],2)):d("v-if",!0)],6)],6)),[[o,f.show]])};var te=oe;const{name:ae,n:se}=z("snackbar");const re=f({name:ae,components:{VarSnackbarCore:te},props:J,setup(){const{disabled:e}=_();return{disabled:e,n:se}}});re.render=function(n,o){const a=e("var-snackbar-core");return t(),p(k,{to:!1===n.teleport?void 0:n.teleport,disabled:n.disabled||!1===n.teleport},[m(w,{name:`${n.n()}-fade`,onAfterEnter:n.onOpened,onAfterLeave:n.onClosed},{default:g((()=>[m(a,O(n.$props,{class:n.n("transition")}),{icon:g((()=>[i(n.$slots,"icon")])),action:g((()=>[i(n.$slots,"action")])),default:g((()=>[i(n.$slots,"default",{},(()=>[c(l(n.content),1)]))])),_:3},16,["class"])])),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["to","disabled"])};var ie=re,ce=Object.defineProperty,le=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,ue=(e,n,o)=>n in e?ce(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,fe=(e,n)=>{for(var o in n||(n={}))pe.call(n,o)&&ue(e,o,n[o]);if(le)for(var o of le(n))de.call(n,o)&&ue(e,o,n[o]);return e};const ve=["loading","success","warning","info","error"];let ye,be=0,me=!1,ge=!1;const Oe={type:void 0,content:"",icon:"",action:"",position:"top",duration:3e3,vertical:!1,contentClass:void 0,loadingType:"circle",loadingSize:"normal",lockScroll:!1,teleport:"body",forbidClick:!1,onOpen:()=>{},onOpened:()=>{},onClose:()=>{},onClosed:()=>{}};let we=S([]),ke=Oe;const Se={name:"var-snackbar-fade",tag:"div",class:"var-transition-group"},he=e=>()=>U(e)?e():e,Ce={setup:()=>()=>{const e=we.map((({id:e,reactiveSnackOptions:n,_update:o})=>{const t=document.querySelector(".var-transition-group");n.forbidClick||"loading"===n.type?t.classList.add("var-pointer-auto"):t.classList.remove("var-pointer-auto");const a=fe({position:ge?"relative":"absolute"},function(e="top"){return"bottom"===e?{top:"85%"}:{top:"top"===e?"5%":"45%"}}(n.position)),{content:s,icon:r,action:i}=n,c={default:he(s),icon:he(r),action:he(i)};return m(te,O(n,{key:e,style:a,"data-id":e,_update:o,show:n.show,"onUpdate:show":e=>n.show=e}),c)}));return m(h,O(Se,{style:{zIndex:D.zIndex},onAfterEnter:Ee,onAfterLeave:ze}),{default:()=>[e]})}},je=function(e){const n=function(e={}){return V(e)?{content:e}:e}(e),o=S(fe(fe({},ke),n));o.show=!0,me||(me=!0,ye=R(Ce).unmountInstance);const{length:t}=we,a={id:be++,reactiveSnackOptions:o};if(0===t||ge)!function(e){we.push(e)}(a);else{!function(e,n){const[o]=we;o.reactiveSnackOptions=fe(fe({},o.reactiveSnackOptions),e),o._update=n}(o,`update-${be}`)}return{clear(){!ge&&we.length?we[0].reactiveSnackOptions.show=!1:o.show=!1}}};function Ee(e){const n=e.getAttribute("data-id"),o=we.find((e=>e.id===F(n)));o&&P(o.reactiveSnackOptions.onOpened)}function ze(e){e.parentElement&&e.parentElement.classList.remove("var-pointer-auto");const n=e.getAttribute("data-id"),o=we.find((e=>e.id===F(n)));o&&(o.animationEnd=!0,P(o.reactiveSnackOptions.onClosed));we.every((e=>e.animationEnd))&&(P(ye),we=S([]),me=!1)}ve.forEach((e=>{je[e]=n=>(B(n)?n.type=e:n={content:n,type:e},je(n))})),je.allowMultiple=function(e=!1){e!==ge&&(we.forEach((e=>{e.reactiveSnackOptions.show=!1})),ge=e)},je.clear=function(){we.forEach((e=>{e.reactiveSnackOptions.show=!1}))},je.setDefaultOptions=function(e){ke=e},je.resetDefaultOptions=function(){ke=Oe},je.Component=ie,L(ie),L(ie,je),N(je,J);var $e=je;export{$e as s};
