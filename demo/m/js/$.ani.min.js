
function AnimateCache() {
    for (allBoxes = window.document.documentElement.querySelectorAll(".ani"),
             i = 0; i < allBoxes.length; i++)
        allBoxes[i].style.visibility = "hidden";
}

function Animate($page) {
   // clearAnimate();
    var b = $page[0].querySelectorAll(".ani");
    for (i = 0; i < b.length; i++){


        //console.log(b[i]);
    b[i].style.visibility = "visible",
            effect = b[i].getAttribute("animate-effect") ? b[i].getAttribute("animate-effect") : "",
            b[i].className = b[i].className + "  " + effect + " " + "animated",
            style = b[i].getAttribute("style") ? b[i].getAttribute("style") : '',
            duration = b[i].getAttribute("animation-duration") ? b[i].getAttribute("animation-duration") : "",
        duration && (style = style + "animation-duration:" + duration + ";-webkit-animation-duration:" + duration + ";"),
            delay = b[i].getAttribute("animate-delay") ? b[i].getAttribute("animate-delay") : "",
        delay && (style = style + "animation-delay:" + delay + ";-webkit-animation-delay:" + delay + ";"),
                b[i].setAttribute("style", style);
    }
}

function clearAnimate() {
    for (allBoxes = window.document.documentElement.querySelectorAll(".ani"),
             i = 0; i < allBoxes.length; i++)
        allBoxes[i].getAttribute("animate-style-cache") && allBoxes[i].setAttribute("style", allBoxes[i].getAttribute("animate-style-cache").value),
            allBoxes[i].style.visibility = "hidden",
            allBoxes[i].className = allBoxes[i].className.replace("animated", " "),
        allBoxes[i].getAttribute("animate-effect") && (effect = allBoxes[i].getAttribute("animate-effect"),
            allBoxes[i].className = allBoxes[i].className.replace(effect, " "))
}
